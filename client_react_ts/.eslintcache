[{"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\index.tsx":"1","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\reportWebVitals.ts":"2","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\App.tsx":"3","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\stores.ts":"4","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\types.ts":"5","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\actions\\userActions.ts":"6","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\reducers\\userReducers.ts":"7","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\home.tsx":"8","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\reducers\\uiReducers.ts":"9","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\Home.tsx":"10","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\SignIn.tsx":"11"},{"size":500,"mtime":499162500000,"results":"12","hashOfConfig":"13"},{"size":425,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":1276,"mtime":1609689307962,"results":"15","hashOfConfig":"13"},{"size":1023,"mtime":1609647410657,"results":"16","hashOfConfig":"13"},{"size":916,"mtime":1609548168757,"results":"17","hashOfConfig":"13"},{"size":1730,"mtime":1609645530015,"results":"18","hashOfConfig":"13"},{"size":1097,"mtime":1609686790154,"results":"19","hashOfConfig":"13"},{"size":172,"mtime":1609554991152,"results":"20","hashOfConfig":"13"},{"size":734,"mtime":1609686873027,"results":"21","hashOfConfig":"13"},{"size":443,"mtime":1609689432595,"results":"22","hashOfConfig":"13"},{"size":2892,"mtime":1609628254720,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1nf8rzl",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"26"},"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\index.tsx",[],["52","53"],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\reportWebVitals.ts",[],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\App.tsx",[],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\stores.ts",["54"],"import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport uiReducers from \"./reducers/uiReducers\";\r\nimport userReducer from \"./reducers/userReducers\";\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  UI: uiReducers,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n  // applyMiddleware(...middleware),\r\n  //quitar el codigo de abajo compose cuando va a deploy en firebase y agregar el codigo arriba applymiddelware\r\n  //si no va a salir pag en blanco porque los navegadores necesitan el redux dextool instalado\r\n  // compose(\r\n  //   applyMiddleware(...middleware),\r\n  //   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  // )\r\n);\r\n\r\nexport type RooState = ReturnType<typeof rootReducer>;\r\nexport default store;\r\n","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\types.ts",[],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\actions\\userActions.ts",["55","56","57"],"import {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  LOADING_UI,\r\n  CLEAR_ERRORS,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n} from \"../types\";\r\n\r\nimport axios from \"axios\";\r\ninterface ISignIn {\r\n  nombre: string;\r\n  password: string;\r\n}\r\n\r\ninterface IpostItem {\r\n  [key: string]: string | number;\r\n}\r\n\r\ninterface Iusuario {\r\n  id: number;\r\n  nombre: string;\r\n}\r\n\r\ninterface IResToken {\r\n  usuario: {\r\n    [key: string]: Iusuario;\r\n  };\r\n  token: string;\r\n}\r\nexport const signInUser = (userData: ISignIn, history: any) => (\r\n  dispatch: any\r\n) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"auth/signin\", userData)\r\n    .then((res) => {\r\n      setAuthorizationHeader(res.data.token); // TODO: should be res.body, need to test to get the token\r\n      dispatch({ type: SET_USER, payload: res.data });\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      console.log(\"succes\");\r\n      // history maybe is react router rom redirect\r\n      history.push(\"/\"); //redirect to index page after login\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"signIn User error: \", err.response);\r\n      dispatch({ type: SET_ERRORS, payload: err.response.data });\r\n    });\r\n};\r\n\r\nexport const signOutUser = () => (dispatch: any) => {\r\n  localStorage.removeItem(\"token\");\r\n  delete axios.defaults.headers.common[\"Authorization\"];\r\n  dispatch({\r\n    type: SET_UNAUTHENTICATED,\r\n  });\r\n  window.location.href = \"/login\"; //redirect to index page after login\r\n};\r\n\r\n//helper\r\nconst setAuthorizationHeader = (token: string) => {\r\n  const tokenStr = `Bearer ${token}`;\r\n  localStorage.setItem(\"token\", tokenStr); // setting token to local storage\r\n  axios.defaults.headers.common[\"Authorization\"] = tokenStr; //setting authorize token to header in axios\r\n};\r\n","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\reducers\\userReducers.ts",[],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\home.tsx",[],["58","59"],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\redux\\reducers\\uiReducers.ts",["60"],"import { SET_ERRORS, CLEAR_ERRORS, LOADING_UI } from \"../types\";\r\n\r\n// move to global types.\r\n// interface IUIState {\r\n//   loading: boolean;\r\n//   errors: IErrors | null;\r\n// }\r\n// interface IErrors {\r\n//   nombre: string;\r\n//   password: string;\r\n//   general: string;\r\n// }\r\n\r\nconst initialState: IRootUIState = {\r\n  loading: false,\r\n  errors: null,\r\n};\r\n\r\nexport default function (state = initialState, action: IActions) {\r\n  switch (action.type) {\r\n    case SET_ERRORS:\r\n      return { ...state, loading: false, errors: action.payload };\r\n    case CLEAR_ERRORS:\r\n      return { ...state, loading: false, errors: null };\r\n    case LOADING_UI:\r\n      return { ...state, loading: true };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\Home.tsx",[],"D:\\Users\\iory_\\Documents\\Project\\inventory_app\\client_react_ts\\src\\pages\\SignIn.tsx",["61","62"],"import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\n//Redux\r\nimport { connect } from \"react-redux\";\r\nimport { signInUser } from \"../redux/actions/userActions\";\r\n\r\ninterface IUserInput {\r\n  nombre: string;\r\n  password: string;\r\n}\r\n\r\nfunction SignIn(props: any) {\r\n  const initialValue: IUserInput = { nombre: \"\", password: \"\" };\r\n  const [userData, setUserData] = useState(initialValue);\r\n  const [errors, setErrors] = useState({\r\n    nombre: \"\",\r\n    password: \"\",\r\n    general: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (props.UI.errors) {\r\n      setErrors(props.UI.errors);\r\n    }\r\n    setLoading(props.UI.loading);\r\n  }, [props.UI]);\r\n\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    console.log(\"submit: \", e);\r\n    props.signInUser(userData, props.history);\r\n  };\r\n\r\n  const handleChange = (e: any) => {\r\n    setUserData((value) => ({\r\n      ...value,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" fixed>\r\n      <Typography variant=\"h2\">SignIn</Typography>\r\n      <form noValidate onSubmit={handleSubmit}>\r\n        <TextField\r\n          id=\"nombre\"\r\n          name=\"nombre\"\r\n          type=\"nombre\"\r\n          label=\"Nombre\"\r\n          value={userData.nombre}\r\n          onChange={handleChange}\r\n          fullWidth\r\n          helperText={errors.nombre}\r\n          error={errors.nombre ? true : false}\r\n        />\r\n        <TextField\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          value={userData.password}\r\n          onChange={handleChange}\r\n          fullWidth\r\n          helperText={errors.password}\r\n          error={errors.password ? true : false}\r\n        />\r\n        {errors.general && (\r\n          <Typography variant=\"body2\">{errors.general}</Typography>\r\n        )}\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={loading}\r\n        >\r\n          SignIn\r\n          {loading && <CircularProgress size={30} />}\r\n        </Button>\r\n        <br></br>\r\n        {/* <span>\r\n            no tienes cuenta? registrate <Link to=\"/signup\">aqui</Link>\r\n          </span> */}\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n});\r\nconst mapActionsToProps = {\r\n  signInUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(SignIn);\r\n",{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":1,"column":57,"nodeType":"69","messageId":"70","endLine":1,"endColumn":64},{"ruleId":"67","severity":1,"message":"71","line":7,"column":3,"nodeType":"69","messageId":"70","endLine":7,"endColumn":15},{"ruleId":"67","severity":1,"message":"72","line":16,"column":11,"nodeType":"69","messageId":"70","endLine":16,"endColumn":20},{"ruleId":"67","severity":1,"message":"73","line":25,"column":11,"nodeType":"69","messageId":"70","endLine":25,"endColumn":20},{"ruleId":"63","replacedBy":"74"},{"ruleId":"65","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":19,"column":1,"nodeType":"78","endLine":30,"endColumn":2},{"ruleId":"67","severity":1,"message":"79","line":2,"column":10,"nodeType":"69","messageId":"70","endLine":2,"endColumn":14},{"ruleId":"67","severity":1,"message":"80","line":5,"column":8,"nodeType":"69","messageId":"70","endLine":5,"endColumn":18},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"@typescript-eslint/no-unused-vars","'compose' is defined but never used.","Identifier","unusedVar","'LOADING_USER' is defined but never used.","'IpostItem' is defined but never used.","'IResToken' is defined but never used.",["81"],["82"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","'Link' is defined but never used.","'withStyles' is defined but never used.","no-global-assign","no-unsafe-negation"]